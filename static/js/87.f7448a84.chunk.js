(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[87],{1014:function(e,n,t){var a=t(326);e.exports=function(e,n){return a(e,n)}},1872:function(e,n,t){"use strict";t.r(n);var a=t(11),c=t(2),r=t(3),o=t(671),i=t(672),l=t(46),s=t(124),u=function(){var e=Object(l.d)();return Object(c.useEffect)((function(){e(s.a.doFetch())}),[]),null},d=t(822),f=t(779),b=t(224),m=t(1078),v=t(103),j=t(24),p=t(251),O=t(5),x={selectLoading:Object(O.a)([function(e){return e.tenant.destroy}],(function(e){return Boolean(e.loading)}))},h=t(119),g=t(329),y=t(209),C=t(42),w=t(87),E=t(197),T={selectPermissionToEdit:Object(O.a)([C.a.selectCurrentUser],(function(e){return function(n){return new w.a(n,e).match(E.a.values.tenantEdit)}})),selectPermissionToDestroy:Object(O.a)([C.a.selectCurrentUser],(function(e){return function(n){return new w.a(n,e).match(E.a.values.tenantDestroy)}})),selectInvitationToken:Object(O.a)([C.a.selectCurrentUser],(function(e){return function(n){if(!e||!e.tenants)return!1;var t=e.tenants.find((function(e){return e.tenant.id===n.id&&"invited"===e.status}));return t?t.invitationToken:null}}))},k=t(801),P=t(735),N=t(233),S=t(54),q=t(35),V=function(e){var n=Object(l.d)(),t=Object(l.e)(y.a.selectLoading),c=Object(l.e)(x.selectLoading),o=Object(l.e)(g.a.selectLoading),i=t||c||o,u=Object(l.e)(y.a.selectRows),O=Object(l.e)(y.a.selectPagination),w=Object(l.e)(T.selectInvitationToken),E=Object(l.e)(T.selectPermissionToEdit),V=Object(l.e)(T.selectPermissionToDestroy),D=Object(l.e)(C.a.selectCurrentTenant),I=[{title:Object(r.c)("tenant.fields.name"),sorter:!0,dataIndex:"name",render:function(e,n){return Object(a.jsxs)(a.Fragment,{children:[n.name,Boolean(w(n))&&Object(a.jsx)(d.a,{color:"gold",style:{marginLeft:"8px"},children:Object(r.c)("tenant.invitation.invited")})]})}},q.a.isEnabled&&{title:Object(r.c)("tenant.fields.url"),sorter:!0,dataIndex:"url",render:function(e,n){return"".concat(n.url,".").concat(S.a.frontendUrl.host)}},S.a.isPlanEnabled&&{title:Object(r.c)("tenant.fields.plan"),sorter:!0,dataIndex:"plan",render:function(e,n){return Object(a.jsx)(d.a,{color:e===N.a.values.free?void 0:"gold",children:Object(r.c)("plan.".concat(e,".label"))})}},{title:"",dataIndex:"",width:"160px",render:function(e,t){return w(t)?Object(a.jsxs)("div",{className:"table-actions",children:[Object(a.jsx)(f.a,{title:Object(r.c)("common.areYouSure"),onConfirm:function(){return e=w(t),void n(h.a.doAccept(e));var e},okText:Object(r.c)("common.yes"),cancelText:Object(r.c)("common.no"),children:Object(a.jsx)(b.a,{type:"primary",children:Object(r.c)("tenant.invitation.accept")})}),Object(a.jsx)(f.a,{title:Object(r.c)("common.areYouSure"),onConfirm:function(){return e=w(t),void n(h.a.doDecline(e));var e},okText:Object(r.c)("common.yes"),cancelText:Object(r.c)("common.no"),children:Object(a.jsx)(b.a,{type:"primary",danger:!0,children:Object(r.c)("tenant.invitation.decline")})})]}):Object(a.jsxs)("div",{className:"table-actions",children:[D.id!==t.id&&Object(a.jsx)(b.a,{type:"primary",onClick:function(){return e=t,void n(j.a.doSelectTenant(e));var e},children:Object(r.c)("tenant.select")}),E(t)&&Object(a.jsx)(v.a,{to:"/tenant/".concat(t.id,"/edit"),children:Object(r.c)("common.edit")}),V(t)&&Object(a.jsx)(f.a,{title:Object(r.c)("common.areYouSure"),onConfirm:function(){return e=t.id,void n(p.a.doDestroy(e));var e},okText:Object(r.c)("common.yes"),cancelText:Object(r.c)("common.no"),children:Object(a.jsx)(k.a,{children:Object(r.c)("common.destroy")})})]})}}].filter(Boolean);return Object(a.jsx)(P.a,{children:Object(a.jsx)(m.a,{rowKey:"id",loading:i,columns:I,dataSource:u,pagination:O,onChange:function(e,t,a){n(s.a.doChangePaginationAndSort(e,a))},scroll:{x:950,y:"calc(100vh - 220px)"}})})},D=t(914),I=t(693),B=function(e){return Object(a.jsx)(I.a,{children:Object(a.jsx)(v.a,{to:"/tenant/new",children:Object(a.jsx)(b.a,{type:"primary",icon:Object(a.jsx)(D.a,{}),children:Object(r.c)("common.new")})})})};n.default=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.a,{style:{marginTop:0},children:[Object(a.jsx)(i.a,{children:Object(r.c)("tenant.list.title")}),Object(a.jsx)(B,{}),Object(a.jsx)(u,{}),Object(a.jsx)(V,{})]})})}},671:function(e,n,t){"use strict";var a=t(195);function c(){var e=Object(a.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return c=function(){return e},e}var r=t(196).a.div(c());n.a=r},672:function(e,n,t){"use strict";var a=t(195);function c(){var e=Object(a.a)(["\n  margin-bottom: 36px;\n"]);return c=function(){return e},e}var r=t(196).a.h1(c());n.a=r},693:function(e,n,t){"use strict";var a=t(195);function c(){var e=Object(a.a)(["\n  margin-bottom: 16px;\n\n  .ant-btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"]);return c=function(){return e},e}var r=t(196).a.div(c());n.a=r},695:function(e,n,t){"use strict";var a;function c(e){if("undefined"===typeof document)return 0;if(e||void 0===a){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var t=document.createElement("div"),c=t.style;c.position="absolute",c.top=0,c.left=0,c.pointerEvents="none",c.visibility="hidden",c.width="200px",c.height="150px",c.overflow="hidden",t.appendChild(n),document.body.appendChild(t);var r=n.offsetWidth;t.style.overflow="scroll";var o=n.offsetWidth;r===o&&(o=t.clientWidth),document.body.removeChild(t),a=r-o}return a}t.d(n,"a",(function(){return c}))},735:function(e,n,t){"use strict";var a=t(195);function c(){var e=Object(a.a)(["\n  .ant-table th {\n    white-space: nowrap;\n  }\n\n  .ant-table td {\n    white-space: nowrap;\n  }\n\n  .ant-table .table-actions {\n    text-align: right;\n  }\n\n  .ant-table .table-actions a,\n  .ant-table .table-actions button {\n    margin-left: 8px;\n  }\n"]);return c=function(){return e},e}var r=t(196).a.div(c());n.a=r},779:function(e,n,t){"use strict";var a=t(13),c=t.n(a),r=t(38),o=t.n(r),i=t(2),l=t(16),s=t.n(l),u=t(297),d=t.n(u),f=t(112),b=t(226),m=t(224),v=t(299),j=t(223),p=t(211),O=t(150),x=t(271),h=t(40),g=void 0,y=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(t[a[c]]=e[a[c]])}return t},C=i.forwardRef((function(e,n){var t=i.useState(e.visible),a=o()(t,2),r=a[0],l=a[1];i.useEffect((function(){"visible"in e&&l(e.visible)}),[e.visible]),i.useEffect((function(){"defaultVisible"in e&&l(e.defaultVisible)}),[e.defaultVisible]);var u=function(n,t){"visible"in e||l(n),e.onVisibleChange&&e.onVisibleChange(n,t)},d=function(n){u(!1,n),e.onConfirm&&e.onConfirm.call(g,n)},C=function(n){u(!1,n),e.onCancel&&e.onCancel.call(g,n)},w=i.useContext(O.b).getPrefixCls,E=e.prefixCls,T=e.placement,k=e.children,P=e.overlayClassName,N=y(e,["prefixCls","placement","children","overlayClassName"]),S=w("popover",E),q=w("popconfirm",E),V=s()(q,P),D=i.createElement(j.a,{componentName:"Popconfirm",defaultLocale:p.a.Popconfirm},(function(n){return function(n,t){var a=e.okButtonProps,r=e.cancelButtonProps,o=e.title,l=e.cancelText,s=e.okText,u=e.okType,f=e.icon;return i.createElement("div",{className:"".concat(n,"-inner-content")},i.createElement("div",{className:"".concat(n,"-message")},f,i.createElement("div",{className:"".concat(n,"-message-title")},Object(x.a)(o))),i.createElement("div",{className:"".concat(n,"-buttons")},i.createElement(m.a,c()({onClick:C,size:"small"},r),l||t.cancelText),i.createElement(m.a,c()({onClick:d},Object(v.a)(u),{size:"small"},a),s||t.okText)))}(S,n)}));return i.createElement(b.a,c()({},N,{prefixCls:S,placement:T,onVisibleChange:function(n){e.disabled||u(n)},visible:r,overlay:D,overlayClassName:V,ref:n}),Object(h.a)(k,{onKeyDown:function(e){var n,t;i.isValidElement(k)&&(null===(t=null===k||void 0===k?void 0:(n=k.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===f.a.ESC&&r&&u(!1,e)}(e)}}))}));C.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i.createElement(d.a,null),disabled:!1},n.a=C},801:function(e,n,t){"use strict";var a=t(195);function c(){var e=Object(a.a)(["\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  color: var(--link-color);\n  text-decoration: none;\n  display: inline;\n  margin: 0;\n  padding: 0;\n\n  &:hover {\n    text-decoration: none;\n  }\n  &:focus {\n    text-decoration: none;\n  }\n"]);return c=function(){return e},e}var r=t(196).a.button(c());n.a=r},823:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(38),c=t.n(a),r=t(2);function o(){var e=r.useReducer((function(e){return e+1}),0);return c()(e,2)[1]}},914:function(e,n,t){"use strict";var a=t(2),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=t(45),o=function(e,n){return a.createElement(r.a,Object.assign({},e,{ref:n,icon:c}))};o.displayName="PlusOutlined";n.a=a.forwardRef(o)},917:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t(2);function c(e,n,t){var c=a.useRef({});return"value"in c.current&&!t(c.current.condition,n)||(c.current.value=e(),c.current.condition=n),c.current.value}}}]);