(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[83],{1185:function(e,t,n){},1277:function(e,t,n){"use strict";n.r(t);var a=n(11),i=n(2),c=n.n(i),o=n(45),l=n(37),r=n(3),d=n(230),s=n(924),u=n(0),j=n(1),b=n.n(j),p=n(4),m=n(199),f=n(649),O=n(805),g=n(806),x=n(1237),h=(n(1185),n(925)),w=n(724),y=n(111),v=n.n(y),C=n(89),E=function(e){var t,n=Object(i.useState)([]),o=Object(m.a)(n,2),l=(o[0],o[1]),r=window.location.pathname.split("planning/").pop().replace("/daily",""),d=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.find(r);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){d()}),[]),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(h.DataGrid,{dataSource:[],showBorders:!0,columnAutoWidth:!0,allowColumnResizing:!0,columnResizingMode:"widget",children:[Object(a.jsx)(h.Selection,{mode:"single"}),Object(a.jsx)(h.ColumnChooser,{enabled:!0,mode:"select"}),Object(a.jsx)(h.Column,{dataField:"family",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"product",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"subassembly",dataType:"boolean",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"finishGood",dataType:"boolean",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"quantityRequested",allowEditing:!1}),Object(a.jsxs)(h.Column,{caption:"Quantity Planned",allowEditing:!1,children:[Object(a.jsx)(h.Column,{dataField:"currentLine",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"otherLines",allowEditing:!1})]}),Object(a.jsx)(h.Column,{dataField:"quantity",allowEditing:!1}),Object(a.jsx)(h.Column,{dataField:"quantityRemained",allowEditing:!1})]})})},Y=n(87),D=n(829),P=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),c=n[0],o=n[1],l=Object(i.useState)(""),d=Object(m.a)(l,2),s=d[0],j=d[1],y=e.record,C=e.loading,P=Object(i.useState)([{familyParent:"",zapParent:"",lineParent:""}]),I=Object(m.a)(P,2),M=I[0],F=I[1],S=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{familyParent:"",zapParent:"",lineParent:""}],n={familyParent:"",zapParent:"",lineParent:""},e.next=4,Y.a.find(y.config.id);case 4:(a=e.sent).family.map((function(e){e.linesId.map((function(i){n={familyParent:e.famId.famTitle,zapParent:"",lineParent:i.lineId.lineTitle},a.zapId.map((function(e){e.linesId.map((function(t){t.lineTitle===i.lineId.lineTitle&&(n.zapParent=e.zapTitle)}))})),t.push(n)}))})),t.shift(),F(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(i.useEffect)((function(){!C&&y&&S()}),[!C&&y]),C||!y)return Object(a.jsx)(f.a,{});function k(){var e=new Date(null===y||void 0===y?void 0:y.year,0,1+7*((null===y||void 0===y?void 0:y.week)-1)),t=e.getDay(),n=e;return t<=4?n.setDate(e.getDate()-e.getDay()+1):n.setDate(e.getDate()+8-e.getDay()),n}return Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(O.a,{gutter:24,children:[Boolean(y.name)&&Object(a.jsx)(g.a,{span:6,children:Object(a.jsx)(x.a.Item,Object(u.a)(Object(u.a)({},w.b),{},{label:Object(r.c)("entities.planning.fields.name"),children:y.name}))}),Boolean(y.year)&&Object(a.jsx)(g.a,{span:6,children:Object(a.jsx)(x.a.Item,Object(u.a)(Object(u.a)({},w.b),{},{label:Object(r.c)("entities.planning.fields.year"),children:y.year}))}),Boolean(y.week)&&Object(a.jsx)(g.a,{span:6,children:Object(a.jsx)(x.a.Item,Object(u.a)(Object(u.a)({},w.b),{},{label:Object(r.c)("entities.planning.fields.week"),children:y.week}))}),Boolean(y.status)&&Object(a.jsx)(g.a,{span:6,children:Object(a.jsx)(x.a.Item,Object(u.a)(Object(u.a)({},w.b),{},{label:Object(r.c)("entities.planning.fields.status"),children:Object(r.c)("entities.planning.enumerators.status.".concat(y.status))}))})]}),Object(a.jsxs)(h.DataGrid,{dataSource:M,allowColumnReordering:!0,columnWidth:"auto",showBorders:!0,width:"100%",onCellClick:function(e){var t;"data"===(t=e).rowType&&"Line"!==t.column.caption&&(console.log("event",t),j(t.column.caption),o(!0))},onRowPrepared:function(e){0===e.groupIndex?e.rowElement.style.background="#0aa3a3":1===e.groupIndex&&(e.rowElement.style.background="#00383B")},children:[Object(a.jsx)(h.ColumnChooser,{enabled:!0,mode:"select"}),Object(a.jsx)(h.Selection,{mode:"single"}),Object(a.jsx)(h.GroupPanel,{visible:!1}),Object(a.jsx)(h.Grouping,{autoExpandAll:!1,expandMode:"rowClick"}),Object(a.jsx)(h.Column,{caption:"Zap",dataField:"zapParent",allowEditing:!1,groupIndex:0}),Object(a.jsx)(h.Column,{caption:"Family",dataField:"familyParent",allowEditing:!1,groupIndex:1}),Object(a.jsx)(h.Column,{caption:"Line",dataField:"lineParent",allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Monday: ".concat(v()(k()).format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Tuesday: ".concat(v()(k()).add(1,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Wednesday: ".concat(v()(k()).add(2,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Thursday: ".concat(v()(k()).add(3,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Friday: ".concat(v()(k()).add(4,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Saturday: ".concat(v()(k()).add(5,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Column,{caption:"Sunday: ".concat(v()(k()).add(6,"days").format("DD/MM/YYYY")),allowEditing:!1}),Object(a.jsx)(h.Scrolling,{}),Object(a.jsx)(h.Paging,{defaultPageSize:100}),Object(a.jsx)(h.Pager,{visible:!0,allowedPageSizes:!0,displayMode:"full",showPageSizeSelector:!0,showInfo:!0,showNavigationButtons:!0}),Object(a.jsx)(h.Summary,{children:Object(a.jsx)(h.GroupItem,{column:"id",summaryType:"count"})})]}),Object(a.jsx)(D.a,{width:"auto",title:s,visible:c,onOk:function(){o(!1)},onCancel:function(){o(!1)},children:Object(a.jsx)(E,{})})]})},I=n(626),M=n(628),F=n(627);t.default=function(e){var t=Object(o.d)(),n=Object(l.h)(),c=Object(o.e)(s.a.selectLoading),u=Object(o.e)(s.a.selectRecord);return Object(i.useEffect)((function(){t(d.a.doFind(n.params.id))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{items:[[Object(r.c)("dashboard.menu"),"/"],[Object(r.c)("entities.planning.menu"),"/planning"],[Object(r.c)("entities.planning.daily")]]}),Object(a.jsxs)(I.a,{children:[Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{span:16,children:Object(a.jsx)(F.a,{children:Object(r.c)("entities.planning.daily")})}),Object(a.jsx)(g.a,{span:8,style:{textAlign:"end"}})]}),Object(a.jsx)(P,{loading:c,record:u})]})]})}},626:function(e,t,n){"use strict";var a=n(184);function i(){var e=Object(a.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return i=function(){return e},e}var c=n(185).a.div(i());t.a=c},627:function(e,t,n){"use strict";var a=n(184);function i(){var e=Object(a.a)(["\n  margin-bottom: 36px;\n"]);return i=function(){return e},e}var c=n(185).a.h1(i());t.a=c},628:function(e,t,n){"use strict";var a=n(11),i=n(667),c=(n(2),n(99));t.a=function(e){var t=function(e){return e.length>1};return Object(a.jsx)(i.a,{children:e.items.map((function(e){return Object(a.jsx)(i.a.Item,{children:t(e)?Object(a.jsx)(c.a,{to:e[1],children:e[0]}):e[0]},e[0])}))})}},639:function(e,t,n){"use strict";var a;function i(e){if("undefined"===typeof document)return 0;if(e||void 0===a){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top=0,i.left=0,i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var c=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;c===o&&(o=n.clientWidth),document.body.removeChild(n),a=c-o}return a}n.d(t,"a",(function(){return i}))},649:function(e,t,n){"use strict";var a=n(11),i=n(656);n(2);t.a=function(e){return Object(a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(a.jsx)(i.a,{})})}},724:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(184);function i(){var e=Object(a.a)(["\n  padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-form-item-label {\n    white-space: normal;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n"]);return i=function(){return e},e}var c=n(185).a.div(i()),o={labelCol:{md:{span:6},lg:{span:4}},wrapperCol:{md:{span:18},lg:{span:12}}};t.a=c},924:function(e,t,n){"use strict";var a=n(5),i=function(e){return e.planning.view},c=Object(a.a)([i],(function(e){return e.record})),o={selectLoading:Object(a.a)([i],(function(e){return Boolean(e.loading)})),selectRecord:c,selectRaw:i};t.a=o}}]);